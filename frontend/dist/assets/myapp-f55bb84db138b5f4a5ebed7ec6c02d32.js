"use strict"
define("myapp/app",["exports","@ember/application","ember-resolver","ember-load-initializers","myapp/config/environment","bootstrap/dist/js/bootstrap.bundle.min.js","bootstrap/dist/css/bootstrap.min.css"],(function(e,t,n,r,i,o,a){function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class s extends t.default{constructor(...e){super(...e),l(this,"modulePrefix",i.default.modulePrefix),l(this,"podModulePrefix",i.default.podModulePrefix),l(this,"Resolver",n.default)}}e.default=s,(0,r.default)(s,i.default.modulePrefix)})),define("myapp/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/ball",["exports","@ember/component","@glimmer/component","@ember/template","@ember/template-factory"],(function(e,t,n,r,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=(0,i.createTemplateFactory)({id:"QmPNUz27",block:'[[[10,0],[14,0,"ball"],[15,5,[30,0,["ballStyle"]]],[12],[13]],[],false,["div"]]',moduleName:"myapp/components/ball.hbs",isStrictMode:!1})
class a extends n.default{get ballStyle(){return(0,r.htmlSafe)(`transform: translate(${this.args.positionX}vw, ${this.args.positionY}vh);`)}}e.default=a,(0,t.setComponentTemplate)(o,a)})),define("myapp/components/bs-accordion",["exports","ember-bootstrap/components/bs-accordion"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-accordion/item",["exports","ember-bootstrap/components/bs-accordion/item"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-accordion/item/body",["exports","ember-bootstrap/components/bs-accordion/item/body"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-accordion/item/title",["exports","ember-bootstrap/components/bs-accordion/item/title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-alert",["exports","ember-bootstrap/components/bs-alert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-button-group",["exports","ember-bootstrap/components/bs-button-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-button-group/button",["exports","ember-bootstrap/components/bs-button-group/button"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-button",["exports","ember-bootstrap/components/bs-button"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-carousel",["exports","ember-bootstrap/components/bs-carousel"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-carousel/slide",["exports","ember-bootstrap/components/bs-carousel/slide"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-collapse",["exports","ember-bootstrap/components/bs-collapse"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown",["exports","ember-bootstrap/components/bs-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown/button",["exports","ember-bootstrap/components/bs-dropdown/button"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown/menu",["exports","ember-bootstrap/components/bs-dropdown/menu"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown/menu/divider",["exports","ember-bootstrap/components/bs-dropdown/menu/divider"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown/menu/item",["exports","ember-bootstrap/components/bs-dropdown/menu/item"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-dropdown/toggle",["exports","ember-bootstrap/components/bs-dropdown/toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form",["exports","ember-bootstrap/components/bs-form"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element",["exports","ember-bootstrap/components/bs-form/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control",["exports","ember-bootstrap/components/bs-form/element/control"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control/checkbox",["exports","ember-bootstrap/components/bs-form/element/control/checkbox"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control/input",["exports","ember-bootstrap/components/bs-form/element/control/input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control/radio",["exports","ember-bootstrap/components/bs-form/element/control/radio"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control/switch",["exports","ember-bootstrap/components/bs-form/element/control/switch"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/control/textarea",["exports","ember-bootstrap/components/bs-form/element/control/textarea"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/errors",["exports","ember-bootstrap/components/bs-form/element/errors"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/feedback-icon",["exports","ember-bootstrap/components/bs-form/element/feedback-icon"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("myapp/components/bs-form/element/help-text",["exports","ember-bootstrap/components/bs-form/element/help-text"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/label",["exports","ember-bootstrap/components/bs-form/element/label"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/horizontal",["exports","ember-bootstrap/components/bs-form/element/layout/horizontal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/horizontal/checkbox",["exports","ember-bootstrap/components/bs-form/element/layout/horizontal/checkbox"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/inline",["exports","ember-bootstrap/components/bs-form/element/layout/inline"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/inline/checkbox",["exports","ember-bootstrap/components/bs-form/element/layout/inline/checkbox"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/vertical",["exports","ember-bootstrap/components/bs-form/element/layout/vertical"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/layout/vertical/checkbox",["exports","ember-bootstrap/components/bs-form/element/layout/vertical/checkbox"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-form/element/legend",["exports","ember-bootstrap/components/bs-form/element/legend"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-link-to",["exports","ember-bootstrap/components/bs-link-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-list-group",["exports","ember-bootstrap/components/bs-list-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-list-group/item",["exports","ember-bootstrap/components/bs-list-group/item"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal-simple",["exports","ember-bootstrap/components/bs-modal-simple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal",["exports","ember-bootstrap/components/bs-modal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/body",["exports","ember-bootstrap/components/bs-modal/body"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/dialog",["exports","ember-bootstrap/components/bs-modal/dialog"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/footer",["exports","ember-bootstrap/components/bs-modal/footer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/header",["exports","ember-bootstrap/components/bs-modal/header"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/header/close",["exports","ember-bootstrap/components/bs-modal/header/close"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-modal/header/title",["exports","ember-bootstrap/components/bs-modal/header/title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-nav",["exports","ember-bootstrap/components/bs-nav"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-nav/item",["exports","ember-bootstrap/components/bs-nav/item"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-navbar",["exports","ember-bootstrap/components/bs-navbar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-navbar/content",["exports","ember-bootstrap/components/bs-navbar/content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-navbar/link-to",["exports","ember-bootstrap/components/bs-navbar/link-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-navbar/nav",["exports","ember-bootstrap/components/bs-navbar/nav"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-navbar/toggle",["exports","ember-bootstrap/components/bs-navbar/toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-popover",["exports","ember-bootstrap/components/bs-popover"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-popover/element",["exports","ember-bootstrap/components/bs-popover/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-progress",["exports","ember-bootstrap/components/bs-progress"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("myapp/components/bs-progress/bar",["exports","ember-bootstrap/components/bs-progress/bar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-spinner",["exports","ember-bootstrap/components/bs-spinner"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-tab",["exports","ember-bootstrap/components/bs-tab"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-tab/pane",["exports","ember-bootstrap/components/bs-tab/pane"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-tooltip",["exports","ember-bootstrap/components/bs-tooltip"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/bs-tooltip/element",["exports","ember-bootstrap/components/bs-tooltip/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/components/chat",["exports","@ember/component","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c,p,d
function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=(0,a.createTemplateFactory)({id:"f4HjJWEm",block:'[[[10,0],[14,0,"container-row chat-container"],[12],[1,"\\n  "],[10,0],[14,0,"btn-group"],[14,"role","group"],[14,"aria-label","Basic checkbox toggle button group"],[12],[1,"\\n    "],[11,"input"],[24,0,"btn-check"],[24,1,"btncheck1"],[24,"autocomplete","off"],[16,"checked",[30,0,["showGeneral"]]],[24,4,"checkbox"],[4,[38,2],["change",[28,[37,3],[[30,0,["toggleCheckbox"]],"all"],null]],null],[12],[13],[1,"\\n    "],[10,"label"],[14,0,"btn btn-outline-secondary btn-sm"],[14,"for","btncheck1"],[12],[1,"General"],[13],[1,"\\n\\n    "],[11,"input"],[24,0,"btn-check"],[24,1,"btncheck2"],[24,"autocomplete","off"],[16,"checked",[30,0,["showWhisper"]]],[24,4,"checkbox"],[4,[38,2],["change",[28,[37,3],[[30,0,["toggleCheckbox"]],"whisper"],null]],null],[12],[13],[1,"\\n    "],[10,"label"],[14,0,"btn btn-outline-secondary btn-sm"],[14,"for","btncheck2"],[12],[1,"Whisper"],[13],[1,"\\n\\n    "],[11,"input"],[24,0,"btn-check"],[24,1,"btncheck3"],[24,"autocomplete","off"],[16,"checked",[30,0,["showTournament"]]],[24,4,"checkbox"],[4,[38,2],["change",[28,[37,3],[[30,0,["toggleCheckbox"]],"tournament"],null]],null],[12],[13],[1,"\\n    "],[10,"label"],[14,0,"btn btn-outline-secondary btn-sm"],[14,"for","btncheck3"],[12],[1,"Tournament"],[13],[1,"\\n\\n    "],[11,"input"],[24,0,"btn-check"],[24,1,"btncheck4"],[24,"autocomplete","off"],[16,"checked",[30,0,["showSystem"]]],[24,4,"checkbox"],[4,[38,2],["change",[28,[37,3],[[30,0,["toggleCheckbox"]],"system"],null]],null],[12],[13],[1,"\\n    "],[10,"label"],[14,0,"btn btn-outline-secondary btn-sm"],[14,"for","btncheck4"],[12],[1,"System"],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"scrollable-list chat"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["filteredMessages"]]],null]],null],null,[[[1,"    "],[8,[39,7],null,[["@message","@ownNickname"],[[30,1],[30,0,["chat","user","profile","nickname"]]]],null],[1,"\\n"]],[1]],null],[1,"  "],[13],[1,"\\n\\n"],[1,"  "],[10,0],[14,0,"input-group"],[12],[1,"\\n    "],[11,"input"],[24,0,"form-control"],[24,"placeholder","Put your message here"],[16,5,[29,["color: ",[30,0,["chat","inputColor"]],";"]]],[24,"aria-label","Recipient\'s username"],[24,"aria-describedby","basic-addon2"],[16,2,[30,0,["chat","messageInput"]]],[24,4,"text"],[4,[38,2],["input",[30,0,["updateInputValue"]]],null],[4,[38,2],["keydown",[30,0,["handleKeyDown"]]],null],[4,[38,8],[[30,0,["setInputRef"]]],null],[12],[13],[1,"\\n    "],[10,0],[14,0,"input-group-append"],[12],[1,"\\n      "],[11,"button"],[24,0,"btn btn-outline-secondary"],[24,4,"button"],[4,[38,2],["click",[30,0,["sendMessage"]]],null],[12],[1,"Send"],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["message"],false,["div","input","on","fn","label","each","-track-array","message","did-insert","button"]]',moduleName:"myapp/components/chat.hbs",isStrictMode:!1})
let y=e.default=(l=class extends n.default{constructor(...e){super(...e),f(this,"showGeneral",s,this),f(this,"showWhisper",u,this),f(this,"showTournament",c,this),f(this,"showSystem",p,this),f(this,"chat",d,this),b(this,"toggleCheckbox",(e=>{"all"===e?this.showGeneral=!this.showGeneral:"whisper"===e?this.showWhisper=!this.showWhisper:"tournament"===e?this.showTournament=!this.showTournament:"system"===e&&(this.showSystem=!this.showSystem)}))}get filteredMessages(){return this.chat.messages.filter((e=>!(!this.showGeneral||"all"!==e.type)||(!(!this.showWhisper||"whisper"!==e.type)||(!(!this.showTournament||"tournament"!==e.type)||!(!this.showSystem||"add"!==e.type&&"invite"!==e.type)))))}updateInputValue(e){this.chat.updateInputValue(e.target.value)}sendMessage(){this.chat.sendMessage()}handleKeyDown(e){"Enter"===e.key&&this.sendMessage()}setInputRef(e){this.chat.setInputElement(e)}},s=m(l.prototype,"showGeneral",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=m(l.prototype,"showWhisper",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=m(l.prototype,"showTournament",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=m(l.prototype,"showSystem",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=m(l.prototype,"chat",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"updateInputValue",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"updateInputValue"),l.prototype),m(l.prototype,"sendMessage",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"sendMessage"),l.prototype),m(l.prototype,"handleKeyDown",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"handleKeyDown"),l.prototype),m(l.prototype,"setInputRef",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"setInputRef"),l.prototype),l);(0,t.setComponentTemplate)(h,y)})),define("myapp/components/history-item",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=(0,r.createTemplateFactory)({id:"GK6hYLn7",block:'[[[10,0],[14,0,"history-item row m-1"],[12],[1,"\\n\\n  "],[10,0],[14,0,"col-12 mb-0 mt-1 pb-0"],[12],[1,"\\n    "],[10,0],[14,0,"date"],[12],[1,[30,1,["date"]]],[13],[1,"\\n  "],[13],[1,"\\n"],[1,"  "],[10,0],[14,0,"col-5"],[12],[1,"\\n    "],[10,0],[14,0,"user-card m-0 mb-1"],[14,"role","button"],[15,"onclick",[30,0,["select"]]],[12],[1,"\\n      "],[10,0],[14,0,"profile-details"],[12],[1,"\\n        "],[10,"h2"],[14,0,"info"],[12],[1,[30,1,["user"]]],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n"],[1,"  "],[10,0],[14,0,"col-2"],[12],[1,"\\n    "],[10,0],[14,0,"score history center"],[12],[1,[30,1,["score"]]],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"col-5"],[12],[1,"\\n    "],[10,0],[14,0,"user-card m-0 mb-1"],[14,"role","button"],[15,"onclick",[30,0,["select"]]],[12],[1,"\\n      "],[10,0],[14,0,"profile-details"],[12],[1,"\\n        "],[10,"h2"],[14,0,"info"],[12],[1,[30,1,["opponent"]]],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n"],[13]],["@game"],false,["div","h2"]]',moduleName:"myapp/components/history-item.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(i,(0,n.default)())})),define("myapp/components/message",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o){var a,l,s,u,c,p
function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=(0,o.createTemplateFactory)({id:"u9fTlrnY",block:'[[[41,[28,[37,1],[[30,1,["type"]],"tournament"],null],[[[10,0],[14,0,"message-item message-tournament"],[12],[1," "],[11,3],[24,6,"#"],[24,0,"badge bg-warning"],[24,5,"color: rgb(24, 22, 22);"],[4,[38,4],["click",[28,[37,5],[[30,0,["select"]],[30,1,["from"]]],null]],null],[12],[1,[30,1,["from"]]],[13],[1," "],[1,[30,1,["content"]]],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,1,["type"]],"whisper"],null],[[[10,0],[14,0,"message-item message-whisper"],[12],[1," "],[11,3],[24,6,"#"],[24,0,"badge bg-warning"],[24,5,"color: rgb(24, 22, 22);"],[4,[38,4],["click",[28,[37,5],[[30,0,["select"]],[30,1,["from"]]],null]],null],[12],[1,[30,1,["from"]]],[13],[1," "],[1,[30,1,["content"]]],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,1,["type"]],"add"],null],[[[41,[28,[37,1],[[30,1,["from"]],[30,2]],null],[[[1,"  "],[10,0],[14,0,"alert alert-success p-2 mt-1 mb-1"],[14,"role","alert"],[12],[1,"\\n    You sent a friend request to "],[1,[30,1,["to"]]],[1,".\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[10,0],[14,0,"alert alert-success p-2 mt-1 mb-1"],[14,"role","alert"],[12],[1,"\\n    "],[1,[30,1,["from"]]],[1," wants to add you as a friend\\n    "],[11,3],[24,6,"#"],[24,0,"alert-link"],[4,[38,4],["click",[30,0,["acceptFriend"]]],null],[12],[1,"ACCEPT"],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]],[]],[[[41,[28,[37,1],[[30,1,["type"]],"invite"],null],[[[41,[28,[37,1],[[30,1,["from"]],[30,2]],null],[[[1,"  "],[10,0],[14,0,"alert alert-danger p-2 mt-1 mb-1"],[14,"role","alert"],[12],[1,"\\n    You invited "],[1,[30,1,["to"]]],[1," to a game.\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[10,0],[14,0,"alert alert-danger p-2 mt-1 mb-1"],[14,"role","alert"],[12],[1,"\\n    "],[1,[30,1,["from"]]],[1," invited you to a game\\n    "],[11,3],[24,6,"#"],[24,0,"alert-link"],[4,[38,4],["click",[30,0,["acceptGame"]]],null],[12],[1,"PLAY"],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]],[]],[[[10,0],[14,0,"message-item message-default"],[12],[1," "],[11,3],[24,6,"#"],[24,0,"badge bg-warning"],[24,5,"color: rgb(24, 22, 22);"],[4,[38,4],["click",[28,[37,5],[[30,0,["select"]],[30,1,["from"]]],null]],null],[12],[1,[30,1,["from"]]],[13],[1," "],[1,[30,1,["content"]]],[13],[1,"\\n"]],[]]]],[]]]],[]]]],[]]]],["@message","@ownNickname"],false,["if","eq","div","a","on","fn"]]',moduleName:"myapp/components/message.hbs",isStrictMode:!1})
let m=e.default=(a=class extends n.default{constructor(...e){super(...e),d(this,"session",l,this),d(this,"gameData",s,this),d(this,"user",u,this),d(this,"router",c,this),d(this,"chat",p,this)}acceptFriend(e){e.preventDefault(),this.makeFriends()}select(e){this.user.selectUser(e)}acceptGame(e){e.preventDefault(),this.createPrivateRoom("private")}async createPrivateRoom(e){try{const t=await fetch("/pong/pong/create-room",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.token}`,"Content-Type":"application/json"},body:JSON.stringify({player:this.user.profile.nickname,player_2:this.args.message.from,gameType:e})})
if(!t.ok)throw new Error("Network response was not ok")
const n=await t.json()
n.room_name&&("remote"!=n.player2&&(this.gameData.waiting=!1),this.gameData.setGameData(e,n),this.chat.sendGameAccept(n,this.args.message.from),this.router.transitionTo("pong-game"))}catch(t){console.error("Error:",t)}}async makeFriends(){try{const e=await fetch("users/users/add-friend/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.session.data.access}`},body:JSON.stringify({nickname:this.args.message.from,type:"add"})})
if(!e.ok){const t=await e.json()
throw new Error(t.message||"Failed to add friend")}await e.json()
this.chat.messages=this.chat.messages.filter((e=>!("add"===e.type&&e.from===this.args.message.from)))}catch(e){console.error("Error adding friend:",e.message)}}},l=f(a.prototype,"session",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=f(a.prototype,"gameData",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f(a.prototype,"user",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(a.prototype,"router",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(a.prototype,"chat",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(a.prototype,"acceptFriend",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"acceptFriend"),a.prototype),f(a.prototype,"select",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"select"),a.prototype),f(a.prototype,"acceptGame",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"acceptGame"),a.prototype),a);(0,t.setComponentTemplate)(b,m)})),define("myapp/components/modal-game-history",["exports","@ember/component","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c,p,d
function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=(0,a.createTemplateFactory)({id:"AWo0S13V",block:'[[[11,"button"],[24,0,"btn btn-success p-1 mb-1"],[24,4,"button"],[4,[38,1],["click",[30,0,["openModal"]]],null],[12],[1,"\\n  Games: "],[1,[30,1,["games_total"]]],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,2],null,[["@open"],[[30,0,["isModalOpen"]]]],[["default"],[[[[1,"\\n  "],[8,[30,2,["header"]],[[24,5,"background-color: #706363;"]],null,[["default"],[[[[1,"\\n    "],[10,"h4"],[14,0,"score history center"],[12],[1,"\\n      Match History\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n\\n  "],[8,[30,2,["body"]],[[24,5,"background-color: #706363;"]],null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"container-fluid row"],[14,5,"height: 50vh; overflow-y: auto; margin: 0; padding: 0;"],[12],[1,"\\n      "],[10,0],[14,0,"scrollable-list history-scroll"],[12],[1,"\\n\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["games"]]],null]],null],null,[[[1,"        "],[8,[39,7],null,[["@game"],[[30,3]]],null],[1,"\\n"]],[3]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n\\n\\n  "]],[]]]]],[1,"\\n\\n"]],[2]]]]]],["@user","modal","game"],false,["button","on","bs-modal","h4","div","each","-track-array","history-item"]]',moduleName:"myapp/components/modal-game-history.hbs",isStrictMode:!1})
let h=e.default=(l=class extends n.default{constructor(...e){super(...e),f(this,"isModalOpen",s,this),f(this,"newNickname",u,this),f(this,"games",c,this),f(this,"user",p,this),f(this,"session",d,this)}openModal(){this.parseHistory(this.args.user.history),this.isModalOpen=!0}parseHistory(e){this.games=e.map((e=>({user:this.args.user.nickname,opponent:e.opponent,result:e.result,score:e.score,date:e.date})))}closeModal(){this.isModalOpen=!1}cancel(){this.closeModal()}},s=b(l.prototype,"isModalOpen",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=b(l.prototype,"newNickname",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(l.prototype,"games",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=b(l.prototype,"user",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(l.prototype,"session",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(l.prototype,"openModal",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"openModal"),l.prototype),b(l.prototype,"closeModal",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"closeModal"),l.prototype),b(l.prototype,"cancel",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"cancel"),l.prototype),l);(0,t.setComponentTemplate)(m,h)})),define("myapp/components/modal-profile",["exports","@ember/component","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c,p,d,f,b,m
function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=(0,a.createTemplateFactory)({id:"TPjCEAyU",block:'[[[11,"button"],[24,0,"btn btn-primary"],[24,4,"button"],[4,[38,1],["click",[30,0,["openModal"]]],null],[12],[1,"\\n  Edit Profile\\n"],[13],[1,"\\n\\n"],[8,[39,2],null,[["@open"],[[30,0,["isModalOpen"]]]],[["default"],[[[[1,"\\n  "],[8,[30,1,["header"]],[[24,5,"background-color: #706363;"]],null,[["default"],[[[[1,"\\n    "],[10,"h4"],[14,0,"modal-title"],[12],[1,"\\n      Edit Profile\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,1,["body"]],[[24,5,"background-color: #706363;"]],null,[["default"],[[[[1,"\\n    "],[10,0],[14,0,"form-group"],[12],[1,"\\n      "],[10,"label"],[12],[1,"Choose Avatar:"],[13],[1,"\\n      "],[11,"input"],[24,0,"form-control"],[24,5,"background-color: #706363;"],[24,"placeholder","Choose Avatar"],[24,4,"file"],[4,[38,1],["change",[30,0,["updateAvatar"]]],null],[12],[13],[1,"\\n      "],[10,"small"],[12],[1,"This is the visible Avatar on this Site"],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"form-group mt-3"],[12],[1,"\\n      "],[10,"label"],[12],[1,"Nickname:"],[13],[1,"\\n      "],[11,"input"],[24,0,"form-control"],[24,5,"background-color: #706363;"],[16,2,[30,0,["newNickname"]]],[24,4,"name"],[4,[38,1],["input",[30,0,["updateNewNickname"]]],null],[12],[13],[1,"\\n      "],[10,"small"],[12],[1,"This is the visible Name on this Site"],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"form-group mt-3"],[12],[1,"\\n      "],[10,"label"],[12],[1,"E-Mail:"],[13],[1,"\\n      "],[11,"input"],[24,0,"form-control"],[24,5,"background-color: #706363;"],[16,2,[30,0,["newEmail"]]],[24,4,"name"],[4,[38,1],["input",[30,0,["updateNewEmail"]]],null],[12],[13],[1,"\\n      "],[11,"input"],[24,"aria-label","Checkbox for following text input"],[16,"checked",[30,0,["twofa_enabled"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,0,["toggle2fa"]]],null],[12],[13],[1,"\\n      "],[10,"small"],[12],[1,"Enable Email for 2-FA"],[13],[1,"\\n    "],[13],[1,"\\n\\n\\n  "]],[]]]]],[1,"\\n  "],[8,[30,1,["footer"]],[[24,5,"background-color: #706363;"]],null,[["default"],[[[[1,"\\n    "],[10,"label"],[14,0,"ERROR"],[12],[1,[30,0,["error"]]],[13],[1,"\\n    "],[8,[39,8],null,[["@onClick"],[[30,1,["close"]]]],[["default"],[[[[1,"Cancel"]],[]]]]],[1,"\\n    "],[8,[39,8],null,[["@type","@onClick"],["success",[30,0,["submit"]]]],[["default"],[[[[1,"Save"]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n"]],[1]]]]]],["modal"],false,["button","on","bs-modal","h4","div","label","input","small","bs-button"]]',moduleName:"myapp/components/modal-profile.hbs",isStrictMode:!1})
let v=e.default=(l=class extends n.default{constructor(...e){super(...e),h(this,"isModalOpen",s,this),h(this,"newNickname",u,this),h(this,"newEmail",c,this),h(this,"twofa_enabled",p,this),h(this,"newAvatar",d,this),h(this,"error",f,this),h(this,"user",b,this),h(this,"session",m,this)}openModal(){this.isModalOpen=!0,this.newNickname=this.user.profile.nickname,this.newEmail=this.user.profile.two_fa_email,this.twofa_enabled=this.user.profile.two_fa_enabled}closeModal(){this.isModalOpen=!1}toggle2fa(){this.twofa_enabled=!this.twofa_enabled}updateNewNickname(e){this.newNickname=e.target.value}updateNewEmail(e){this.newEmail=e.target.value}updateAvatar(e){const t=e.target.files[0]
if(t){t.size/1048576>5?(this.error="The selected file is too large. Please choose a file smaller than 5MB.",e.target.value=""):this.newAvatar=e.target.files[0]}}async submit(){await this.updateProfile(),this.error||this.closeModal()}async updateProfile(){const e=new FormData
e.append("nickname",this.newNickname),e.append("email",this.newEmail),e.append("twofa_enabled",this.twofa_enabled),this.newAvatar&&e.append("avatar",this.newAvatar)
const t=await fetch("/users/users/update-profile/",{method:"PUT",headers:{Authorization:`Bearer ${this.session.data.access}`},body:e}),n=await t.json()
n.success?(this.user.fetchUserData(this.newNickname,"ownProfile"),this.error=null):this.error=n.message}},s=y(l.prototype,"isModalOpen",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=y(l.prototype,"newNickname",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=y(l.prototype,"newEmail",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(l.prototype,"twofa_enabled",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y(l.prototype,"newAvatar",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y(l.prototype,"error",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(l.prototype,"user",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(l.prototype,"session",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(l.prototype,"openModal",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"openModal"),l.prototype),y(l.prototype,"closeModal",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"closeModal"),l.prototype),y(l.prototype,"toggle2fa",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"toggle2fa"),l.prototype),y(l.prototype,"updateNewNickname",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"updateNewNickname"),l.prototype),y(l.prototype,"updateNewEmail",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"updateNewEmail"),l.prototype),y(l.prototype,"updateAvatar",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"updateAvatar"),l.prototype),y(l.prototype,"submit",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"submit"),l.prototype),l);(0,t.setComponentTemplate)(g,v)})),define("myapp/components/navigation-bar",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=(0,r.createTemplateFactory)({id:"+S6zvfO0",block:'[[[10,"nav"],[14,0,"navigation-bar"],[12],[1,"\\n    "],[11,"button"],[24,0,"nav-button"],[24,4,"button"],[4,[38,2],["click",[28,[37,3],[[30,0,["onLeaveClick"]],[30,1]],null]],null],[12],[1,"Friends"],[13],[1,"\\n    "],[11,"button"],[24,0,"nav-button"],[24,4,"button"],[4,[38,2],["click",[28,[37,3],[[30,0,["onLeaveClick"]],[30,1]],null]],null],[12],[1,"All"],[13],[1,"\\n"],[13]],["@creator"],false,["nav","button","on","fn"]]',moduleName:"myapp/components/navigation-bar.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(i,(0,n.default)())})),define("myapp/components/paddle",["exports","@ember/component","@glimmer/component","@ember/template","@ember/template-factory"],(function(e,t,n,r,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=(0,i.createTemplateFactory)({id:"5IxILk4X",block:'[[[10,0],[15,0,[29,["paddle ",[30,0,["args","side"]]]]],[15,5,[30,0,["paddleStyle"]]],[12],[13]],[],false,["div"]]',moduleName:"myapp/components/paddle.hbs",isStrictMode:!1})
class a extends n.default{constructor(){super(...arguments)}get paddleStyle(){return(0,r.htmlSafe)(`transform: translateY(${this.args.position}vh);`)}}e.default=a,(0,t.setComponentTemplate)(o,a)})),define("myapp/components/pong-game",["exports","@ember/component","@glimmer/component","@ember/service","@ember/template-factory"],(function(e,t,n,r,i){var o,a,l,s
function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,i.createTemplateFactory)({id:"u0MF8W8g",block:'[[[10,0],[14,0,"pong-game"],[12],[1,"\\n"],[41,[30,0,["gameData","waiting"]],[[[1,"  "],[10,0],[14,0,"waiting-container d-flex flex-column align-items-center"],[12],[1,"\\n    "],[3," Row for the text and spinner "],[1,"\\n    "],[10,0],[14,0,"d-flex align-items-center"],[12],[1,"\\n      "],[10,"h2"],[14,0,"white mb-0"],[12],[1,"Waiting for Player"],[13],[1,"\\n      "],[10,0],[14,0,"spinner-border text-light ms-3"],[14,"role","status"],[12],[1,"\\n        "],[10,1],[14,0,"visually-hidden"],[12],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[3," Row for the Leave button "],[1,"\\n    "],[10,0],[14,0,"game-buttons mt-5"],[12],[1,"\\n      "],[11,"button"],[24,0,"btn btn-danger"],[24,4,"button"],[4,[38,5],["click",[30,0,["leaveGame"]]],null],[12],[1,"Leave"],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n\\n\\n"]],[]],[[[41,[30,0,["pongGame","winner"]],[[[1,"  "],[10,0],[14,0,"waiting-container d-flex flex-column align-items-center"],[12],[1,"\\n    "],[10,"h1"],[14,0,"white"],[12],[1,"Winner: "],[1,[30,0,["pongGame","winner"]]],[13],[1,"\\n    "],[10,0],[14,0,"game-buttons mt-5"],[12],[1,"\\n      "],[11,"button"],[24,0,"btn btn-danger"],[24,4,"button"],[4,[38,5],["click",[30,0,["leaveGame"]]],null],[12],[1,"Leave"],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[28,[37,7],[[30,0,["pongGame","status"]],0],null],[[[1,"  "],[10,"h1"],[14,0,"white"],[12],[1,[30,0,["pongGame","status"]]],[13],[1,"\\n"]],[]],[[[1,"  "],[8,[39,8],null,[["@positionX","@positionY"],[[30,0,["pongGame","ballPositionX"]],[30,0,["pongGame","ballPositionY"]]]],null],[1,"\\n"]],[]]],[1,"  "],[8,[39,9],null,[["@position","@side"],[[30,0,["pongGame","leftPaddlePosition"]],"paddle-left"]],null],[1,"\\n  "],[8,[39,9],null,[["@position","@side"],[[30,0,["pongGame","rightPaddlePosition"]],"paddle-right"]],null],[1,"\\n"]],[]]]],[]]],[13]],[],false,["div","if","h2","span","button","on","h1","not-eq","ball","paddle"]]',moduleName:"myapp/components/pong-game.hbs",isStrictMode:!1})
let f=e.default=(o=class extends n.default{constructor(...e){super(...e),u(this,"pongGame",a,this),u(this,"gameData",l,this),u(this,"router",s,this),c(this,"leaveGame",(()=>{this.gameData.roomData&&this.pongGame.disconnectFromGame(this.gameData.roomData.room_name),this.router.transitionTo("choose-game")}))}},a=p(o.prototype,"pongGame",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(o.prototype,"gameData",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(o.prototype,"router",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);(0,t.setComponentTemplate)(d,f)})),define("myapp/components/profile-other",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c,p
function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=(0,a.createTemplateFactory)({id:"IO3ZoYwJ",block:'[[[10,0],[14,0,"container-fluid row fill p-2"],[12],[1,"\\n"],[1,"  "],[10,0],[14,0,"col center no-padding position-relative"],[12],[1,"\\n    "],[10,"button"],[14,0,"btn-close top-left"],[15,"onclick",[30,0,["onCloseClick"]]],[14,4,"button"],[12],[13],[1,"\\n    "],[10,"img"],[15,"src",[29,["https://",[30,0,["hostname"]],[30,0,["user","selectedUser","avatar"]],"/"]]],[14,"alt","Profile Picture"],[14,0,"profile-pic"],[12],[13],[1,"\\n  "],[13],[1,"\\n\\n"],[1,"  "],[10,0],[14,0,"col-10"],[12],[1,"\\n"],[1,"    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n      "],[10,"h2"],[14,0,"name"],[12],[1,[30,0,["user","selectedUser","nickname"]]],[13],[1,"\\n      "],[10,0],[14,0,"actions"],[12],[1,"\\n        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Live Chat"],[24,4,"button"],[4,[38,4],["click",[30,0,["startLiveChat"]]],null],[12],[1,"\\n          💬\\n        "],[13],[1,"\\n        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Play Game"],[24,4,"button"],[4,[38,4],["click",[30,0,["playGame"]]],null],[12],[1,"\\n          🎮\\n        "],[13],[1,"\\n"],[41,[30,0,["isFriend"]],[[[1,"        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Add Friend"],[24,4,"button"],[4,[38,4],["click",[28,[37,6],[[30,0,["addFriend"]],"remove"],null]],null],[12],[1,"\\n          ➖\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Add Friend"],[24,4,"button"],[4,[38,4],["click",[28,[37,6],[[30,0,["addFriend"]],"add"],null]],null],[12],[1,"\\n          ➕\\n        "],[13],[1,"\\n"]],[]]],[41,[30,0,["isBlocked"]],[[[1,"        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Block User"],[24,4,"button"],[4,[38,4],["click",[28,[37,6],[[30,0,["blockUser"]],"remove"],null]],null],[12],[1,"\\n          ✅\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[11,"button"],[24,0,"emoji-button info"],[24,"data-bs-toggle","tooltip"],[24,"data-bs-placement","top"],[24,"title","Block User"],[24,4,"button"],[4,[38,4],["click",[28,[37,6],[[30,0,["blockUser"]],"add"],null]],null],[12],[1,"\\n          🚫\\n        "],[13],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n      "],[10,"h2"],[14,0,"points"],[12],[1,[30,0,["user","selectedUser","trophies"]]],[1,"🏆"],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[1,"    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n      "],[8,[39,7],null,[["@user"],[[30,0,["user","selectedUser"]]]],null],[1,"\\n      "],[10,"h2"],[14,0,"info"],[12],[1,"Wins: "],[1,[30,0,["user","selectedUser","wins"]]],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n"],[41,[30,0,["isOnline"]],[[[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"🟢 online"],[13],[1,"\\n"]],[]],[[[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"🔴 offline"],[13],[1,"\\n"]],[]]],[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"Losses: "],[1,[30,0,["user","selectedUser","losses"]]],[13],[1,"\\n    "],[13],[1,"\\n\\n  "],[13],[1,"\\n"],[13]],[],false,["div","button","img","h2","on","if","fn","modal-game-history"]]',moduleName:"myapp/components/profile-other.hbs",isStrictMode:!1})
let m=e.default=(l=class extends n.default{constructor(...e){super(...e),d(this,"chat",s,this),d(this,"session",u,this),d(this,"user",c,this),d(this,"hostname",p,this)}get isFriend(){return(this.user.profile.friends||[]).includes(this.user.selectedUser.nickname)}get isBlocked(){return(this.user.profile.blocked||[]).includes(this.user.selectedUser.nickname)}startLiveChat(){this.chat.updateInputValue("/"+this.user.selectedUser.nickname+" "),this.chat.focusInput()}playGame(){this.chat.updateInputValue("/*invite "+this.user.selectedUser.nickname),this.chat.sendMessage()}addFriend(e){"add"===e?(this.chat.updateInputValue("/*add "+this.user.selectedUser.nickname),this.chat.sendMessage()):this.removeFriends()}async removeFriends(){try{const e=await fetch("users/users/add-friend/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.session.data.access}`},body:JSON.stringify({nickname:this.user.selectedUser.nickname,type:"remove"})})
if(!e.ok){const t=await e.json()
throw new Error(t.message||"Failed to remove friend")}}catch(e){console.error("Error adding friend:",e.message)}}get isOnline(){return"online"===this.user.selectedUser?.status}async blockUser(e){try{const t=await fetch("users/users/block-user/",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({nickname:this.user.selectedUser.nickname,type:e})})
if(!t.ok){const e=await t.json()
throw new Error(e.message||"Failed to block user")}await t.json()}catch(t){throw console.error("Error blocking user:",t.message),t}}onCloseClick(){this.user.selectUser(null)}},s=f(l.prototype,"chat",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f(l.prototype,"session",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(l.prototype,"user",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(l.prototype,"hostname",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.location.hostname}}),f(l.prototype,"startLiveChat",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"startLiveChat"),l.prototype),f(l.prototype,"playGame",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"playGame"),l.prototype),f(l.prototype,"addFriend",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"addFriend"),l.prototype),f(l.prototype,"blockUser",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"blockUser"),l.prototype),f(l.prototype,"onCloseClick",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"onCloseClick"),l.prototype),l);(0,t.setComponentTemplate)(b,m)})),define("myapp/components/profile-own",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c
function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=(0,a.createTemplateFactory)({id:"TIQS0UjT",block:'[[[10,0],[14,0,"container-fluid row fill p-2"],[12],[1,"\\n"],[1,"  "],[10,0],[14,0,"col center"],[12],[1,"\\n    "],[10,"img"],[15,"src",[29,["https://",[30,0,["hostname"]],[30,0,["user","profile","avatar"]],"/"]]],[14,"alt","Profile Picture"],[14,0,"profile-pic"],[12],[13],[1,"\\n  "],[13],[1,"\\n\\n"],[1,"  "],[10,0],[14,0,"col-10"],[12],[1,"\\n"],[1,"    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n"],[41,[30,0,["isAuthenticated"]],[[[1,"      "],[41,[30,0,["user","profile"]],[[[1," "],[1,"\\n      "],[10,"h2"],[14,0,"name"],[12],[1,[30,0,["user","profile","nickname"]]],[13],[1,"\\n      "],[8,[39,4],null,null,null],[1,"\\n"]],[]],[[[1,"      "],[10,2],[12],[1,"Loading user..."],[13],[1," "],[1,"\\n"]],[]]],[1,"      "],[11,"button"],[24,0,"logout-button"],[24,4,"button"],[4,[38,7],["click",[30,0,["logout"]]],null],[12],[1,"Logout"],[13],[1,"\\n"]],[]],null],[1,"      "],[10,"h2"],[14,0,"points info"],[12],[1,[30,0,["user","profile","trophies"]]],[1," 🏆"],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[1,"    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n      "],[8,[39,8],null,[["@user"],[[30,0,["user","profile"]]]],null],[1,"\\n      "],[10,"h2"],[14,0,"info"],[12],[1,"Wins: "],[1,[30,0,["user","profile","wins"]]],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n"],[41,[30,0,["isOnline"]],[[[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"🟢 online"],[13],[1,"\\n"]],[]],[[[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"🔴 offline"],[13],[1,"\\n"]],[]]],[1,"      "],[10,"h2"],[14,0,"info"],[12],[1,"Losses: "],[1,[30,0,["user","profile","losses"]]],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["div","img","if","h2","modal-profile","p","button","on","modal-game-history"]]',moduleName:"myapp/components/profile-own.hbs",isStrictMode:!1})
let b=e.default=(l=class extends n.default{constructor(...e){super(...e),p(this,"session",s,this),p(this,"user",u,this),p(this,"hostname",c,this)}get isAuthenticated(){return this.session.isAuthenticated}get isOnline(){return!(!this.session.isAuthenticated||!this.user.profile)&&"online"===this.user.profile.status}logout(){this.session.invalidate(),this.user.clearProfile()}},s=d(l.prototype,"session",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"user",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=d(l.prototype,"hostname",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.location.hostname}}),d(l.prototype,"logout",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"logout"),l.prototype),l);(0,t.setComponentTemplate)(f,b)})),define("myapp/components/scoreboard",["exports","@ember/component","@glimmer/component","@ember/service","@ember/template-factory"],(function(e,t,n,r,i){var o,a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=(0,i.createTemplateFactory)({id:"O/guC15V",block:'[[[10,0],[14,0,"container-fluid row border"],[12],[1,"\\n"],[1,"  "],[10,0],[14,0,"col-5"],[12],[1,"\\n\\n    "],[8,[39,1],null,[["@user"],[[30,0,["gameData","player_1"]]]],null],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[30,0,["gameData","player_1"]],[[[1,"  "],[10,0],[14,0,"col-2"],[12],[1,"\\n    "],[10,0],[14,0,"score center"],[12],[1,[30,0,["gameData","left_score"]]],[1,":"],[1,[30,0,["gameData","right_score"]]],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n  "],[10,0],[14,0,"col-5"],[12],[1,"\\n    "],[8,[39,1],null,[["@user"],[[30,0,["gameData","player_2"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["div","user","if"]]',moduleName:"myapp/components/scoreboard.hbs",isStrictMode:!1})
let s=e.default=(o=class extends n.default{constructor(...e){var t,n,r,i
super(...e),t=this,n="gameData",i=this,(r=a)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},u=o.prototype,c="gameData",p=[r.inject],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(d).forEach((function(e){b[e]=d[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=p.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),b),f&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(f):void 0,b.initializer=void 0),a=void 0===b.initializer?(Object.defineProperty(u,c,b),null):b,o)
var u,c,p,d,f,b;(0,t.setComponentTemplate)(l,s)})),define("myapp/components/title-animation",["exports","@ember/component","@ember/component/template-only","@ember/template-factory"],(function(e,t,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=(0,r.createTemplateFactory)({id:"mVC57yox",block:'[[[10,0],[14,0,"waviy"],[12],[1,"\\n   "],[10,1],[14,5,"--i:1"],[12],[1,"4"],[13],[1,"\\n   "],[10,1],[14,5,"--i:2"],[12],[1,"2"],[13],[1,"\\n   "],[10,1],[14,5,"--i:3"],[12],[1,"_"],[13],[1,"\\n   "],[10,1],[14,5,"--i:4"],[12],[1,"tr"],[13],[1,"\\n   "],[10,1],[14,5,"--i:5"],[12],[1,"a"],[13],[1,"\\n   "],[10,1],[14,5,"--i:6"],[12],[1,"s"],[13],[1,"\\n   "],[10,1],[14,5,"--i:7"],[12],[1,"cen"],[13],[1,"\\n   "],[10,1],[14,5,"--i:8"],[12],[1,"d"],[13],[1,"\\n   "],[10,1],[14,5,"--i:8"],[12],[1,"e"],[13],[1,"\\n   "],[10,1],[14,5,"--i:8"],[12],[1,"nc"],[13],[1,"\\n   "],[10,1],[14,5,"--i:8"],[12],[1,"e"],[13],[1,"\\n"],[13]],[],false,["div","span"]]',moduleName:"myapp/components/title-animation.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(i,(0,n.default)())})),define("myapp/components/tournament-item",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o){var a,l,s,u
function c(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,o.createTemplateFactory)({id:"R+8OlvcY",block:'[[[10,0],[14,0,"user-card"],[12],[1,"\\n    "],[10,2],[14,0,"mb-0"],[12],[1,"\\n    "],[10,"h2"],[14,0,"info"],[12],[1,[30,1]],[1,"\'s"],[13],[1,"\\n    "],[10,"h3"],[14,0,"tournament-info"],[12],[1,"Tournament"],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"actions left"],[12],[1,"\\n        "],[11,"button"],[24,0,"tournament-button join"],[24,4,"button"],[4,[38,5],["click",[28,[37,6],[[30,0,["onJoinClick"]],[30,1]],null]],null],[12],[1,"Join"],[13],[1,"\\n        "],[11,"button"],[24,0,"tournament-button"],[24,4,"button"],[4,[38,5],["click",[28,[37,6],[[30,0,["onLeaveClick"]],[30,1]],null]],null],[12],[1,"Leave"],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,"h2"],[14,0,"points info"],[12],[1,"👥 "],[1,[30,2]],[1,"/"],[1,[30,3]],[13],[1,"\\n"],[13]],["@creator","@current_players","@max_players"],false,["div","p","h2","h3","button","on","fn"]]',moduleName:"myapp/components/tournament-item.hbs",isStrictMode:!1})
let f=e.default=(a=class extends n.default{constructor(...e){super(...e),c(this,"tournament",l,this),c(this,"user",s,this),c(this,"gameData",u,this)}onJoinClick(e){this.gameData.roomData&&this.pongGame.disconnectFromGame(this.gameData.roomData.room_name),this.tournament.connectToLobby(e)}onLeaveClick(e){this.tournament.disconnectFromLobby(e)}},l=p(a.prototype,"tournament",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(a.prototype,"user",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"gameData",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(a.prototype,"onJoinClick",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"onJoinClick"),a.prototype),p(a.prototype,"onLeaveClick",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"onLeaveClick"),a.prototype),a);(0,t.setComponentTemplate)(d,f)})),define("myapp/components/tournament-list",["exports","@ember/component","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u
function c(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=(0,a.createTemplateFactory)({id:"epLpP53r",block:'[[[10,"nav"],[14,0,"navigation-bar"],[12],[1,"\\n    "],[10,"h1"],[14,0,"white"],[12],[1,"Tournaments"],[13],[1,"\\n    "],[10,"button"],[14,0,"tournament-button update"],[15,"onclick",[30,0,["fetchTournaments"]]],[14,4,"button"],[12],[1,"↻"],[13],[1,"\\n"],[13],[1,"\\n"],[10,0],[14,0,"scrollable-list middle-scroll"],[12],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["tournaments"]]],null]],null],null,[[[1,"    "],[8,[39,6],null,[["@creator","@current_players","@max_players"],[[30,1,["name"]],[30,1,["num_players"]],"10"]],null],[1,"\\n"]],[1]],null],[13]],["tournament"],false,["nav","h1","button","div","each","-track-array","tournament-item"]]',moduleName:"myapp/components/tournament-list.hbs",isStrictMode:!1})
let b=e.default=(l=class extends n.default{constructor(){super(...arguments),c(this,"session",s,this),c(this,"tournaments",u,this),p(this,"intervalId",null),this.startFetchingTournaments()}startFetchingTournaments(){this.fetchTournaments(),this.intervalId=setInterval((()=>{this.fetchTournaments()}),1e4)}async fetchTournaments(){if(this.session.isAuthenticated)try{const e=await fetch("/lobby/list/",{method:"GET",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"}})
if(!e.ok)throw new Error("Failed to fetch lobby list")
const t=await e.json()
this.tournaments=t.tournaments}catch(e){console.error("Error fetching tournaments:",e)}}willDestroy(){super.willDestroy(...arguments),this.intervalId&&clearInterval(this.intervalId)}},s=d(l.prototype,"session",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(l.prototype,"tournaments",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d(l.prototype,"fetchTournaments",[i.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchTournaments"),l.prototype),l);(0,t.setComponentTemplate)(f,b)})),define("myapp/components/user-list-tournament",["exports","@ember/component","@glimmer/component","@ember/object","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o){var a,l
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=(0,o.createTemplateFactory)({id:"xsficPD5",block:'[[[10,0],[14,0,"scrollable-list middle-scroll"],[12],[1,"\\n"],[42,[28,[37,2],[[28,[37,2],[[30,0,["tournament","currentPlayers"]]],null]],null],null,[[[1,"    "],[8,[39,3],null,[["@user","@selectUser"],[[30,1],null]],null],[1,"\\n"]],[1]],null],[13]],["user"],false,["div","each","-track-array","user"]]',moduleName:"myapp/components/user-list-tournament.hbs",isStrictMode:!1})
let u=e.default=(a=class extends n.default{constructor(...e){var t,n,r,i
super(...e),t=this,n="tournament",i=this,(r=l)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}},c=a.prototype,p="tournament",d=[i.inject],f={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(f).forEach((function(e){m[e]=f[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(c,p,e)||e}),m),b&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(b):void 0,m.initializer=void 0),l=void 0===m.initializer?(Object.defineProperty(c,p,m),null):m,a)
var c,p,d,f,b,m;(0,t.setComponentTemplate)(s,u)})),define("myapp/components/user-list",["exports","@ember/component","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c,p
function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=(0,a.createTemplateFactory)({id:"ACSyW/ia",block:'[[[10,"nav"],[14,0,"navigation-bar"],[12],[1,"\\n    "],[11,"button"],[24,0,"nav-button"],[24,4,"button"],[4,[38,2],["click",[28,[37,3],[[30,0,["setFilter"]],"friends"],null]],null],[12],[1,"Friends"],[13],[1,"\\n    "],[11,"button"],[24,0,"nav-button"],[24,4,"button"],[4,[38,2],["click",[28,[37,3],[[30,0,["setFilter"]],"all"],null]],null],[12],[1,"All"],[13],[1,"\\n"],[13],[1,"\\n"],[10,0],[14,0,"scrollable-list middle-scroll"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["filteredUsers"]]],null]],null],null,[[[1,"    "],[8,[39,7],null,[["@user"],[[30,1]]],null],[1,"\\n"]],[1]],null],[13]],["user"],false,["nav","button","on","fn","div","each","-track-array","user"]]',moduleName:"myapp/components/user-list.hbs",isStrictMode:!1})
let h=e.default=(l=class extends n.default{constructor(){super(...arguments),d(this,"users",s,this),d(this,"filter",u,this),d(this,"session",c,this),d(this,"user",p,this),f(this,"intervalId",null),f(this,"setFilter",(e=>{this.filter=e})),this.startFetchingUsers(),this.disableArrowScrolling()}disableArrowScrolling(){window.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault()}startFetchingUsers(){this.fetchUsers(),this.intervalId=setInterval((()=>{this.fetchUsers()}),1e4)}get filteredUsers(){if("friends"===this.filter){const e=this.user.profile.friends||[]
return this.users.filter((t=>e.includes(t.nickname)))}return this.users}async fetchUsers(){if(this.session.isAuthenticated)try{const e=await fetch("/users/users/profile-list/",{method:"GET",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"}})
if(!e.ok)throw new Error("Network response was not ok")
this.users=await e.json()}catch(e){console.error("Failed to fetch users:",e)}}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("keydown",this.handleKeyDown),this.intervalId&&clearInterval(this.intervalId)}},s=b(l.prototype,"users",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=b(l.prototype,"filter",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),c=b(l.prototype,"session",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(l.prototype,"user",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(l.prototype,"handleKeyDown",[i.action],Object.getOwnPropertyDescriptor(l.prototype,"handleKeyDown"),l.prototype),b(l.prototype,"fetchUsers",[i.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchUsers"),l.prototype),l);(0,t.setComponentTemplate)(m,h)})),define("myapp/components/user",["exports","@ember/component","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","@ember/template-factory"],(function(e,t,n,r,i,o,a){var l,s,u,c
function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=(0,a.createTemplateFactory)({id:"08QjXrNb",block:'[[[41,[30,1],[[[10,0],[14,0,"user-card"],[14,"role","button"],[15,"onclick",[30,0,["select"]]],[12],[1,"\\n    "],[10,"img"],[15,"src",[29,["https://",[30,0,["hostname"]],[30,1,["avatar"]],"/"]]],[14,"alt","Profile Picture"],[14,0,"user-pic user"],[12],[13],[1,"\\n    "],[10,0],[14,0,"profile-details"],[12],[1,"\\n"],[41,[30,0,["isOnline"]],[[[1,"        "],[10,"h2"],[14,0,"info"],[12],[1,[30,1,["nickname"]]],[1," 🟢"],[13],[1,"\\n"]],[]],[[[1,"        "],[10,"h2"],[14,0,"info"],[12],[1,[30,1,["nickname"]]],[1," 🔴"],[13],[1,"\\n"]],[]]],[1,"        "],[10,"h2"],[14,0,"points info"],[12],[1,[30,1,["trophies"]]],[1," 🏆"],[13],[1,"\\n    "],[13],[1,"\\n"],[13],[1,"\\n"]],[]],null]],["@user"],false,["if","div","img","h2"]]',moduleName:"myapp/components/user.hbs",isStrictMode:!1})
let b=e.default=(l=class extends n.default{constructor(...e){super(...e),p(this,"isActive",s,this),p(this,"user",u,this),p(this,"hostname",c,this)}select(){this.user.selectUser(this.args.user.nickname)}get isOnline(){return"online"===this.args.user?.status}},s=d(l.prototype,"isActive",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=d(l.prototype,"user",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=d(l.prototype,"hostname",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.location.hostname}}),d(l.prototype,"select",[r.action],Object.getOwnPropertyDescriptor(l.prototype,"select"),l.prototype),l);(0,t.setComponentTemplate)(f,b)})),define("myapp/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/controllers/application",["exports","@ember/controller","@ember/service"],(function(e,t,n){var r,i,o,a
function l(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),l(this,"router",i,this),l(this,"user",o,this),l(this,"session",a,this)}get activeRoute(){return this.router.currentRouteName}},i=s(r.prototype,"router",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=s(r.prototype,"user",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=s(r.prototype,"session",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/controllers/choose-game",["exports","@ember/controller","@ember/object","@ember/service"],(function(e,t,n,r){var i,o,a,l,s
function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(i=class extends t.default{constructor(...e){super(...e),u(this,"router",o,this),u(this,"gameData",a,this),u(this,"user",l,this),u(this,"session",s,this)}chooseGame(e){this.gameData.waiting=!0,this.createRoom(e)}async createRoom(e){try{const t=await fetch("/pong/pong/create-room",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.token}`,"Content-Type":"application/json"},body:JSON.stringify({player:this.user.profile.nickname,gameType:e})})
if(!t.ok)throw new Error("Network response was not ok")
const n=await t.json()
n.room_name&&("remote"!=n.player2&&(this.gameData.waiting=!1),this.gameData.setGameData(e,n),this.router.transitionTo("pong-game"))}catch(t){console.error("Error:",t)}}},o=c(i.prototype,"router",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=c(i.prototype,"gameData",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(i.prototype,"user",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(i.prototype,"session",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(i.prototype,"chooseGame",[n.action],Object.getOwnPropertyDescriptor(i.prototype,"chooseGame"),i.prototype),i)})),define("myapp/controllers/login",["exports","@ember/controller","@glimmer/tracking","@ember/service","@ember/object"],(function(e,t,n,r,i){var o,a,l,s,u,c,p,d
function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(o=class extends t.default{constructor(...e){super(...e),f(this,"session",a,this),f(this,"router",l,this),f(this,"user",s,this),f(this,"username",u,this),f(this,"password",c,this),f(this,"error",p,this),f(this,"twofaCode",d,this)}update(e,t){this[e]=t.target.value}async submitTwofa(e){e.preventDefault()
try{await this.session.send_twofa(this.username,this.twofaCode),this.session.isAuthenticated&&(await this.fetchUserData(""),this.router.transitionTo("choose-game"))}catch(t){this.error=JSON.parse(t.message)}}async login(e){e.preventDefault()
try{await this.session.authenticate(this.username,this.password),this.session.isAuthenticated&&(await this.fetchUserData(""),this.router.transitionTo("choose-game"))}catch(t){this.error=JSON.parse(t.message)}}async register(){try{if(!(await fetch("/register/users/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})})).ok)throw{error:"Registration failed"}
await this.session.authenticate(this.username,this.password),this.session.isAuthenticated&&(await this.fetchUserData(""),this.router.transitionTo("choose-game"))}catch(e){this.error=e||"An error occurred during registration"}}async fetchUserData(e){try{const t=await fetch("/users/users/profile-info/",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})
if(!t.ok)throw new Error("Failed to fetch user profile")
const n=await t.json()
this.user.setProfile(n)}catch(t){}}},a=b(o.prototype,"session",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=b(o.prototype,"router",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=b(o.prototype,"user",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=b(o.prototype,"username",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(o.prototype,"password",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(o.prototype,"error",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(o.prototype,"twofaCode",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(o.prototype,"update",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),b(o.prototype,"submitTwofa",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"submitTwofa"),o.prototype),b(o.prototype,"login",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"login"),o.prototype),b(o.prototype,"register",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"register"),o.prototype),o)})),define("myapp/controllers/tournament",["exports","@ember/controller","@ember/service"],(function(e,t,n){var r,i,o
function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),a(this,"tournament",i,this),a(this,"user",o,this)}},i=l(r.prototype,"tournament",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l(r.prototype,"user",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/data-adapter",["exports","@ember-data/debug/data-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/and",["exports","ember-truth-helpers/helpers/and"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("myapp/helpers/app-version",["exports","@ember/component/helper","myapp/config/environment","ember-cli-app-version/utils/regexp"],(function(e,t,n,r){function i(e,t={}){const i=n.default.APP.version
let o=t.versionOnly||t.hideSha,a=t.shaOnly||t.hideVersion,l=null
return o&&(t.showExtended&&(l=i.match(r.versionExtendedRegExp)),l||(l=i.match(r.versionRegExp))),a&&(l=i.match(r.shaRegExp)),l?l[0]:i}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=i,e.default=void 0
e.default=(0,t.helper)(i)})),define("myapp/helpers/bs-contains",["exports","ember-bootstrap/helpers/bs-contains"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"bsContains",{enumerable:!0,get:function(){return t.bsContains}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-default",["exports","ember-bootstrap/helpers/bs-default"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-eq",["exports","ember-bootstrap/helpers/bs-eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-form-horiz-input-class",["exports","ember-bootstrap/helpers/bs-form-horiz-input-class"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-form-horiz-offset-class",["exports","ember-bootstrap/helpers/bs-form-horiz-offset-class"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-noop",["exports","ember-bootstrap/helpers/bs-noop"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-size-class",["exports","ember-bootstrap/helpers/bs-size-class"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/bs-type-class",["exports","ember-bootstrap/helpers/bs-type-class"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/did-insert-helper",["exports","ember-render-helpers/helpers/did-insert-helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/did-update-helper",["exports","ember-render-helpers/helpers/did-update-helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/element",["exports","ember-element-helper/helpers/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})})),define("myapp/helpers/eq",["exports","ember-truth-helpers/helpers/eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/gt",["exports","ember-truth-helpers/helpers/gt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/gte",["exports","ember-truth-helpers/helpers/gte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/is-array",["exports","ember-truth-helpers/helpers/is-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/is-empty",["exports","ember-truth-helpers/helpers/is-empty"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/lt",["exports","ember-truth-helpers/helpers/lt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/lte",["exports","ember-truth-helpers/helpers/lte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/not-eq",["exports","ember-truth-helpers/helpers/not-eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/not",["exports","ember-truth-helpers/helpers/not"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/on-document",["exports","ember-on-helper/helpers/on-document"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/on-window",["exports","ember-on-helper/helpers/on-window"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/on",["exports","ember-on-helper/helpers/on"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/or",["exports","ember-truth-helpers/helpers/or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/page-title",["exports","ember-page-title/helpers/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/perform",["exports","ember-concurrency/helpers/perform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("myapp/helpers/popper-modifier",["exports","ember-popper-modifier/helpers/popper-modifier"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"buildPopperModifier",{enumerable:!0,get:function(){return t.buildPopperModifier}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/task",["exports","ember-concurrency/helpers/task"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/will-destroy-helper",["exports","ember-render-helpers/helpers/will-destroy-helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/helpers/xor",["exports","ember-truth-helpers/helpers/xor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","myapp/config/environment"],(function(e,t,n){let r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.default.APP&&(r=n.default.APP.name,i=n.default.APP.version)
e.default={name:"App Version",initialize:(0,t.default)(r,i)}})),define("myapp/initializers/ember-data",["exports","@ember-data/request-utils/deprecation-support"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"ember-data",initialize(e){e.registerOptionsForType("serializer",{singleton:!1}),e.registerOptionsForType("adapter",{singleton:!1})}}})),define("myapp/initializers/load-bootstrap-config",["exports","myapp/config/environment","ember-bootstrap/config","ember-bootstrap/version"],(function(e,t,n,r){function i(){n.default.load(t.default["ember-bootstrap"]||{}),(0,r.registerLibrary)()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=i
e.default={name:"load-bootstrap-config",initialize:i}})),define("myapp/instance-initializers/global-ref-cleanup",["exports","ember-ref-bucket/instance-initializers/global-ref-cleanup"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("myapp/modifiers/bs-conditional-attribute",["exports","ember-bootstrap/modifiers/bs-conditional-attribute"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/create-ref",["exports","ember-ref-bucket/modifiers/create-ref"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/did-insert",["exports","@ember/render-modifiers/modifiers/did-insert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/did-update",["exports","@ember/render-modifiers/modifiers/did-update"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/focus-trap",["exports","ember-focus-trap/modifiers/focus-trap"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/popper-tooltip",["exports","ember-popper-modifier/modifiers/popper-tooltip"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/popper",["exports","ember-popper-modifier/modifiers/popper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/style",["exports","ember-style-modifier/modifiers/style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/modifiers/will-destroy",["exports","@ember/render-modifiers/modifiers/will-destroy"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/router",["exports","@ember/routing/router","myapp/config/environment"],(function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(...e){super(...e),r(this,"location",n.default.locationType),r(this,"rootURL",n.default.rootURL)}}e.default=i,i.map((function(){this.route("login"),this.route("pong-game"),this.route("chat"),this.route("tournament"),this.route("choose-game")}))})),define("myapp/routes/application",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){var t,n,r,o
super(...e),t=this,n="session",o=this,(r=i)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async beforeModel(){this.session.Initialized||await this.session.setup()}},o=r.prototype,a="session",l=[n.inject],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),i=void 0===c.initializer?(Object.defineProperty(o,a,c),null):c,r)
var o,a,l,s,u,c})),define("myapp/routes/chat",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){var t,n,r,o
super(...e),t=this,n="session",o=this,(r=i)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async beforeModel(e){this.session.isAuthenticated||this.session.requireAuthentication(e,"login")}},o=r.prototype,a="session",l=[n.inject],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),i=void 0===c.initializer?(Object.defineProperty(o,a,c),null):c,r)
var o,a,l,s,u,c})),define("myapp/routes/choose-game",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i,o,a,l,s,u,c
function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),p(this,"session",i,this),p(this,"gameData",o,this),p(this,"pongGame",a,this),p(this,"tournament",l,this),p(this,"user",s,this),p(this,"router",u,this),p(this,"tournament",c,this)}async beforeModel(e){this.session.isAuthenticated||this.session.requireAuthentication(e,"login"),this.user.profile.tournament_name&&(this.tournament.connectToLobby(this.user.profile.tournament_name),this.user.profile.tournament_name=null),(this.gameData.roomData||this.user.profile.game_name)&&(this.user.profile.game_name&&!this.pongGame.socketRef&&(this.gameData.waiting=!1,await this.pongGame.connectToRoom(this.user.profile.game_name),this.user.profile.game_name=null),this.router.transitionTo("pong-game"))}},i=d(r.prototype,"session",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(r.prototype,"gameData",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(r.prototype,"pongGame",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(r.prototype,"tournament",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(r.prototype,"user",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(r.prototype,"router",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=d(r.prototype,"tournament",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/routes/index",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){var t,n,r,o
super(...e),t=this,n="session",o=this,(r=i)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async beforeModel(e){this.session.isAuthenticated||this.session.requireAuthentication(e,"login")}},o=r.prototype,a="session",l=[n.inject],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),i=void 0===c.initializer?(Object.defineProperty(o,a,c),null):c,r)
var o,a,l,s,u,c})),define("myapp/routes/login",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){var t,n,r,o
super(...e),t=this,n="session",o=this,(r=i)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}beforeModel(){this.session.prohibitAuthentication("choose-game")}},o=r.prototype,a="session",l=[n.inject],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),i=void 0===c.initializer?(Object.defineProperty(o,a,c),null):c,r)
var o,a,l,s,u,c})),define("myapp/routes/pong-game",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i,o
function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),a(this,"session",i,this),a(this,"gameData",o,this)}async beforeModel(e){this.session.isAuthenticated||this.session.requireAuthentication(e,"login")}},i=l(r.prototype,"session",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=l(r.prototype,"gameData",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/routes/tournament",["exports","@ember/routing/route","@ember/service"],(function(e,t,n){var r,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){var t,n,r,o
super(...e),t=this,n="session",o=this,(r=i)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}async beforeModel(e){this.session.isAuthenticated||this.session.requireAuthentication(e,"login")}},o=r.prototype,a="session",l=[n.inject],s={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(s).forEach((function(e){c[e]=s[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(o,a,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),i=void 0===c.initializer?(Object.defineProperty(o,a,c),null):c,r)
var o,a,l,s,u,c})),define("myapp/services/-ensure-registered",["exports","@embroider/util/services/ensure-registered"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/services/chat",["exports","@ember/service","@glimmer/tracking"],(function(e,t,n){var r,i,o,a,l,s,u,c,p,d
function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{setInputElement(e){this.inputElement=e}focusInput(){this.inputElement&&this.inputElement.focus()}constructor(){super(...arguments),f(this,"messages",i,this),f(this,"messageInput",o,this),f(this,"inputColor",a,this),f(this,"user",l,this),f(this,"websockets",s,this),f(this,"session",u,this),f(this,"tournament",c,this),f(this,"gameData",p,this),f(this,"router",d,this),b(this,"socketRef",null),b(this,"inputElement",null),b(this,"type","all"),b(this,"to_user",""),b(this,"words",null),b(this,"predefinedColors",{all:"rgb(0 0 0)",tournament:"rgb(30 218 55)",whisper:"rgb(255 49 255)",system:"rgb(130 140 55)"})
const e=this.session.data.access,t=`wss://${window.location.hostname}/ws/chat/lobby/?token=${encodeURIComponent(e)}`,n=this.websockets.socketFor(t)
n.on("open",this.myOpenHandler,this),n.on("message",this.myMessageHandler,this),n.on("close",this.myCloseHandler,this),this.socketRef=n}myOpenHandler(e){}isBlocked(e){return(this.user.profile.blocked||[]).includes(e)}myMessageHandler(e){const t=JSON.parse(e.data)
t.content.room_name?this.user.profile.nickname!==t.from&&(this.gameData.setGameData("private",t.content),this.router.transitionTo("pong-game")):this.isBlocked(t.from)||(this.messages=[...this.messages,t])}myCloseHandler(e){}updateInputValue(e){this.messageInput=e,this.words=this.messageInput.trim().split(" "),"/*tournament"===this.words[0]?(this.type="tournament",this.to_user="tournament",this.inputColor=this.predefinedColors.tournament):"/*add"===this.words[0]?(this.type="add",this.to_user=this.words[1],this.inputColor=this.predefinedColors.system):"/*invite"===this.words[0]?(this.type="invite",this.to_user=this.words[1],this.inputColor=this.predefinedColors.system):this.words[0].startsWith("/")&&this.words[0].length>1&&"*"!==this.words[0][1]?(this.type="whisper",this.to_user=this.words[0].substring(1),this.inputColor=this.predefinedColors.whisper):(this.type="all",this.inputColor=this.predefinedColors.all)}sendMessage(){let e=this.messageInput.trim()
if("all"!==this.type&&(e=this.words.slice(1).join(" ")),"tournament"===this.type){const t={action:"message",sender:this.user.profile.nickname,message:e,timestamp:(new Date).toISOString()}
this.tournament.sendMessage(t)}else e&&this.to_user!==this.user.profile.nickname&&this.socketRef.send(JSON.stringify({type:this.type,from:this.user.profile.nickname,to:this.to_user,content:e,timestamp:(new Date).toISOString()}))
"all"===this.type||"invite"===this.type||"add"===this.type?this.messageInput="":this.messageInput=this.words[0]+" "}sendGameAccept(e,t){this.messages=this.messages.filter((e=>!("invite"===e.type&&e.from===t))),this.socketRef.send(JSON.stringify({type:"invite",from:this.user.profile.nickname,to:t,content:e,timestamp:(new Date).toISOString()}))}},i=m(r.prototype,"messages",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=m(r.prototype,"messageInput",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=m(r.prototype,"inputColor",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.predefinedColors.all}}),l=m(r.prototype,"user",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=m(r.prototype,"websockets",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(r.prototype,"session",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(r.prototype,"tournament",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m(r.prototype,"gameData",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(r.prototype,"router",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/services/game-data",["exports","@ember/service","@glimmer/tracking"],(function(e,t,n){var r,i,o,a,l,s,u,c,p,d
function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),f(this,"gameType",i,this),f(this,"roomData",o,this),f(this,"player_1",a,this),f(this,"player_2",l,this),f(this,"left_score",s,this),f(this,"right_score",u,this),f(this,"waiting",c,this),f(this,"session",p,this),f(this,"pongGame",d,this)}async reconnect(e){const t={player1:e?.player1||null,player2:e?.player2||null,room_name:e?.room_name||null}
this.setGameData("reconnect",t)}async setGameData(e,t){this.gameType=e,this.roomData=t,this.pongGame.winner=null,"AI"!==t.player1&&"local"!==t.player1?this.player_1=await this.fetchUserData(t.player1):"local"!==t.player1?this.player_1={nickname:"Computer",avatar:"/media/default_photo/default_photo.png",trophies:999,status:"online"}:this.player_1={nickname:"Player_2",avatar:"/media/default_photo/default_photo.png",trophies:0,status:"online"},"AI"!==t.player2&&"local"!==t.player2?this.player_2=await this.fetchUserData(t.player2):"local"!==t.player2?this.player_2={nickname:"Computer",avatar:"/media/default_photo/default_photo.png",trophies:999,status:"online"}:this.player_2={nickname:"Player_2",avatar:"/media/default_photo/default_photo.png",trophies:0,status:"online"},"reconnect"!==this.gameType&&this.pongGame.connectToRoom(this.roomData.room_name)}clearGameData(){this.gameType=null,this.roomData=null,this.player_1=null,this.player_2=null}async setPlayer2(e){this.player_2=await this.fetchUserData(e),this.waiting=!1}async fetchUserData(e){try{const t=await fetch("/users/users/profile-info/",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})
if(!t.ok)throw new Error("Failed to fetch user profile")
return await t.json()}catch(t){console.error("Error fetching user profile:",t)}}},i=b(r.prototype,"gameType",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=b(r.prototype,"roomData",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=b(r.prototype,"player_1",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=b(r.prototype,"player_2",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=b(r.prototype,"left_score",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=b(r.prototype,"right_score",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=b(r.prototype,"waiting",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=b(r.prototype,"session",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(r.prototype,"pongGame",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/services/page-title",["exports","ember-page-title/services/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("myapp/services/pong-game",["exports","@ember/service","@glimmer/tracking"],(function(e,t,n){var r,i,o,a,l,s,u,c,p,d,f,b,m,h,y
function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(){super(...arguments),g(this,"leftPaddlePosition",i,this),g(this,"rightPaddlePosition",o,this),g(this,"ballPositionX",a,this),g(this,"ballPositionY",l,this),g(this,"winner",s,this),g(this,"status",u,this),g(this,"winnerSend",c,this),g(this,"keyStates",p,this),g(this,"gameData",d,this),g(this,"session",f,this),g(this,"tournament",b,this),g(this,"user",m,this),g(this,"router",h,this),g(this,"websockets",y,this),v(this,"socketRef",null),v(this,"p1UpKeyPressed",!1),v(this,"p1DownKeyPressed",!1),v(this,"p2UpKeyPressed",!1),v(this,"p2DownKeyPressed",!1),this.setupKeyListeners()}get roomData(){return this.gameData.roomData}setupKeyListeners(){window.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(e){let t="",n="",r="",i="",o=""
if(this.keyStates[e.key])return
switch(e.key){case"ArrowUp":if(this.keyStates.ArrowDown)return
t="up",r="start_move"
break
case"ArrowDown":if(this.keyStates.ArrowUp)return
t="down",r="start_move"
break
case"w":case"W":if(this.keyStates.w||this.keyStates.W)return
n="up",i="start_move"
break
case"s":case"S":if(this.keyStates.s||this.keyStates.S)return
n="down",i="start_move"
break
case"ArrowLeft":if(this.keyStates.ArrowLeft)return
o="pause"}this.keyStates[e.key]=!0
const a={type_p1:r,direction_p1:t,type_p2:i,direction_p2:n,action:o}
this.sendMessage(a)}handleKeyUp(e){let t="",n=""
if(!this.keyStates[e.key])return
switch(e.key){case"ArrowUp":case"ArrowDown":t="stop_move"
break
case"w":case"W":case"s":case"S":n="stop_move"}this.keyStates[e.key]=!1
const r={type_p1:t,direction_p1:"",type_p2:n,direction_p2:"",action:""}
this.sendMessage(r)}updateGameState(e){this.status=e.game_start_timer,this.ballPositionX=25*e.ball_x,this.ballPositionY=24*e.ball_y,this.leftPaddlePosition=25*e.left_paddle_y,this.rightPaddlePosition=25*e.right_paddle_y,this.winner=e.winner,this.gameData.left_score=e.left_score,this.gameData.right_score=e.right_score,this.winner&&!this.winnerSend&&(this.winnerSend=!0,this.tournament.currentLobby&&this.router.transitionTo("tournament"),this.willDestroy())}willDestroy(){this.disconnectFromGame(this.gameData.roomData.room_name),this.winnerSend=!1,window.removeEventListener("keydown",this.handleKeyDown.bind(this)),window.removeEventListener("keyup",this.handleKeyUp.bind(this)),super.willDestroy()}async connectToRoom(e){const t=this.session.data.access,n=`wss://${window.location.hostname}/ws/pong-game/${e}/?token=${encodeURIComponent(t)}`
this.socketRef&&this.disconnectFromGame(e)
const r=this.websockets.socketFor(n)
r.on("message",this.onMessage,this),r.on("close",this.onClose,this),this.set("socketRef",r)}async disconnectFromGame(e){const t=this.session.data.access,n=`wss://${window.location.hostname}/ws/pong-game/${e}/?token=${encodeURIComponent(t)}`
this.websockets.closeSocketFor(n),this.socketRef.off("open",this.onOpen,this),this.socketRef.off("message",this.onMessage,this),this.socketRef.off("close",this.onClose,this),this.socketRef=null,this.gameData.clearGameData()}onMessage(e){const t=JSON.parse(e.data)
this.gameData.roomData?this.gameData.waiting&&this.gameData.setPlayer2(t.player2):this.gameData.reconnect(t),this.updateGameState(t)}onClose(e){}sendMessage(e){this.socketRef?this.socketRef.send(JSON.stringify(e)):console.error("WebSocket is not connected.")}},i=w(r.prototype,"leftPaddlePosition",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),o=w(r.prototype,"rightPaddlePosition",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),a=w(r.prototype,"ballPositionX",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),l=w(r.prototype,"ballPositionY",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),s=w(r.prototype,"winner",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=w(r.prototype,"status",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=w(r.prototype,"winnerSend",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=w(r.prototype,"keyStates",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,w:!1,W:!1,s:!1,S:!1}}}),d=w(r.prototype,"gameData",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(r.prototype,"session",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(r.prototype,"tournament",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w(r.prototype,"user",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(r.prototype,"router",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=w(r.prototype,"websockets",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)})),define("myapp/services/session",["exports","@ember/service","@glimmer/tracking"],(function(e,t,n){var r,i,o,a,l,s,u
function c(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(...e){super(...e),c(this,"isAuthenticated",i,this),c(this,"data",o,this),c(this,"Initialized",a,this),c(this,"router",l,this),c(this,"chat",s,this),c(this,"twofa",u,this)}requireAuthentication(e,t){"transition"===e&&this.router.transitionTo(t)}async authenticate(e,t){let n=await fetch("/auth/auth/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})
if(!n.ok){let e=await n.text()
throw new Error(e)}this.data=await n.json(),this.data.two_fa_required?this.twofa=!0:this.isAuthenticated=!0}async send_twofa(e,t){let n=await fetch("/auth/auth/validate-2fa/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,code:t})})
if(!n.ok){let e=await n.text()
throw new Error(e)}this.data=await n.json(),this.isAuthenticated=!0}async invalidate(){await this.logout(),window.location.reload()}async logout(){await fetch("/auth/auth/logout/",{method:"POST",headers:{Authorization:`Bearer ${this.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({refresh_token:this.data.refresh})})}prohibitAuthentication(e){this.isAuthenticated&&this.router.transitionTo(e)}setup(){this.Initialized=!0,this.router.transitionTo("login")}},i=p(r.prototype,"isAuthenticated",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=p(r.prototype,"data",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=p(r.prototype,"Initialized",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(r.prototype,"router",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=p(r.prototype,"chat",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(r.prototype,"twofa",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r)})),define("myapp/services/socket-io",["exports","ember-websockets/services/socket-io"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/services/store",["exports","@ember/debug","ember-data/store"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})})),define("myapp/services/tournament",["exports","@ember/service","@glimmer/tracking","@ember/object"],(function(e,t,n,r){var i,o,a,l,s,u,c,p,d,f,b,m
function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t||"default")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(i=class extends t.default{constructor(...e){super(...e),h(this,"websockets",o,this),h(this,"user",a,this),h(this,"session",l,this),h(this,"chat",s,this),h(this,"gameData",u,this),h(this,"router",c,this),h(this,"currentLobby",p,this),h(this,"currentPlayers",d,this),h(this,"playerProfiles",f,this),h(this,"admin",b,this),h(this,"playerInTournament",m,this),y(this,"socketRef",null),y(this,"startTournament",(()=>{this.sendMessage({action:"start_tournament"})}))}async connectToLobby(e){const t=this.session.data.access,n=`wss://${window.location.hostname}/ws/tournament/${e}/?token=${encodeURIComponent(t)}`
this.socketRef&&this.disconnectFromLobby(this.currentLobby)
const r=this.websockets.socketFor(n)
r.on("open",(()=>this.onOpen(e)),this),r.on("message",this.onMessage,this),r.on("close",this.onClose,this),this.set("socketRef",r)}async disconnectFromLobby(e){const t=this.session.data.access,n=`wss://${window.location.hostname}/ws/tournament/${e}/?token=${encodeURIComponent(t)}`
this.websockets.closeSocketFor(n),this.socketRef.off("open",this.onOpen,this),this.socketRef.off("message",this.onMessage,this),this.socketRef.off("close",this.onClose,this),this.socketRef=null,this.currentLobby=null,this.messages=[],this.currentPlayers=[],this.playerProfiles=[],this.playerInTournament=!1}sendMessage(e){this.socketRef?this.socketRef.send(JSON.stringify(e)):console.error("WebSocket is not connected.")}onOpen(e){this.currentLobby=e,this.playerInTournament=!0}onMessage(e){const t=JSON.parse(e.data)
switch(t.type){case"create":this.handleCreate(t)
break
case"result":this.handleResult(t)
break
case"join":this.handleJoin(t)
break
case"message":this.handleMessage(t)
break
case"leave":this.handleLeave(t)
break
case"match":this.handleMatch(t)
break
case"tournament_winner":this.handleTournamentWinner(t)}}handleCreate(e){this.updateCurrentPlayers(e),this.admin=e.admin
const t={type:"tournament",from:"System",content:"You created the Tournament "+this.currentLobby}
this.chat.messages=[...this.chat.messages,t]}handleResult(e){const t={type:"tournament",from:"System",content:e.winner+" won against "+e.loser+"!"}
this.chat.messages=[...this.chat.messages,t]}handleJoin(e){this.updateCurrentPlayers(e),this.admin=e.admin
const t={type:"tournament",from:"System",content:e.player+" joined the Tournament!"}
this.chat.messages=[...this.chat.messages,t]}handleMessage(e){const t={type:"tournament",from:e.sender,content:e.message}
this.chat.messages=[...this.chat.messages,t]}handleStart(e){const t={type:"tournament",from:"System",content:e.message}
this.chat.messages=[...this.chat.messages,t]}handleLeave(e){this.admin=e.admin,this.currentPlayers=this.currentPlayers.filter((t=>t.nickname!==e.player))
const t={type:"tournament",from:"System",content:e.player+" left the Tournament!"}
this.chat.messages=[...this.chat.messages,t]}handleMatch(e){let t=e.player1
e.player1===this.user.profile.nickname&&(t=e.player2)
const n={type:"tournament",from:"System",content:"Get ready! Your next game is against "+t+" and it starts in just 20 seconds!"}
this.chat.messages=[...this.chat.messages,n]
const r={room_name:e.room,player1:e.player1,player2:e.player2}
this.gameData.setGameData("tournament",r),this.gameData.waiting=!1,this.router.transitionTo("pong-game")}handleTournamentWinner(e){const t={type:"tournament",from:"System",content:e.winner+" won the Tournament!"}
this.chat.messages=[...this.chat.messages,t]}onClose(e){this.disconnectFromLobby(this.tournamentName)}async updateCurrentPlayers(e){if(this.currentPlayers&&0!==this.currentPlayers.length){const t=await this.fetchUserData(e.player)
t&&(this.currentPlayers=[...this.currentPlayers,t])}else this.currentPlayers=await Promise.all(e.players.map((e=>this.fetchUserData(e))))}async fetchUserData(e){try{const t=await fetch("/users/users/profile-info/",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})
if(!t.ok)throw new Error("Failed to fetch user profile")
return await t.json()}catch(t){console.error("Error fetching user profile:",t)}}},o=g(i.prototype,"websockets",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=g(i.prototype,"user",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=g(i.prototype,"session",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=g(i.prototype,"chat",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=g(i.prototype,"gameData",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(i.prototype,"router",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(i.prototype,"currentLobby",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g(i.prototype,"currentPlayers",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g(i.prototype,"playerProfiles",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g(i.prototype,"admin",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(i.prototype,"playerInTournament",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g(i.prototype,"connectToLobby",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"connectToLobby"),i.prototype),g(i.prototype,"disconnectFromLobby",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"disconnectFromLobby"),i.prototype),i)})),define("myapp/services/user",["exports","@ember/service","@glimmer/tracking"],(function(e,t,n){var r,i,o,a,l
function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u(e,t,n,r,i){var o={}
return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(r=class extends t.default{constructor(){super(...arguments),s(this,"profile",i,this),s(this,"session",o,this),s(this,"gameData",a,this),s(this,"selectedUser",l,this),this.startFetchingProfile()}startFetchingProfile(){this.intervalId=setInterval((()=>{this.fetchUserData(this.profile.nickname,"ownProfile")}),1e4)}selectUser(e){e&&e!==this.profile.nickname?this.fetchUserData(e,"otherProfile"):e||(this.selectedUser=null)}setProfile(e){this.profile=e}clearProfile(){this.profile=null}async fetchUserData(e,t){if(this.session.isAuthenticated)try{const n=await fetch("/users/users/profile-info/",{method:"POST",headers:{Authorization:`Bearer ${this.session.data.access}`,"Content-Type":"application/json"},body:JSON.stringify({nickname:e})})
if(!n.ok)throw new Error("Failed to fetch user profile")
const r=await n.json()
"ownProfile"===t?this.setProfile(r):this.selectedUser=r}catch(n){console.error("Error fetching user profile:",n)}}},i=u(r.prototype,"profile",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=u(r.prototype,"session",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u(r.prototype,"gameData",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=u(r.prototype,"selectedUser",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r)})),define("myapp/services/websockets",["exports","ember-websockets/services/websockets"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("myapp/templates/application",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"6gO9hcQm",block:'[[[10,"main"],[12],[1,"\\n"],[1,[30,0,["isAuthenticated"]]],[1,"\\n"],[10,0],[14,0,"container-fluid body"],[12],[1,"\\n  "],[10,0],[14,0,"container-fluid row"],[12],[1,"\\n    "],[10,0],[14,0,"col header"],[12],[1,"\\n     "],[8,[39,2],null,null,null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"col header"],[12],[1,"\\n"],[41,[30,0,["user","selectedUser"]],[[[1,"        "],[8,[39,4],null,null,null],[1,"\\n"]],[]],[[[1,"        "],[8,[39,5],null,null,null],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"container-fluid row"],[12],[1,"\\n    "],[10,0],[14,0,"container-fluid col-3 middle"],[12],[1,"\\n        "],[8,[39,6],null,null,null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"container-fluid col-6 middle custom-bg-black"],[12],[1,"\\n\\t\\t"],[46,[28,[37,8],null,null],null,null,null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"container-fluid col-3 middle"],[12],[1,"\\n      "],[8,[39,9],null,null,null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"container-fluid row"],[12],[1,"\\n    "],[10,0],[14,0,"container-fluid col-3 footer"],[12],[1,"\\n            "],[8,[39,10],[[24,0,"nav-button"]],[["@route"],["choose-game"]],[["default"],[[[[1,"Game"]],[]]]]],[1,"\\n            "],[8,[39,10],[[24,0,"nav-button"]],[["@route"],["chat"]],[["default"],[[[[1,"Chat"]],[]]]]],[1,"            \\n            "],[8,[39,10],[[24,0,"nav-button"]],[["@route"],["tournament"]],[["default"],[[[[1,"Tournament"]],[]]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"container-fluid col-6 footer"],[12],[1,"\\n      "],[8,[39,11],null,null,null],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"container-fluid col-3 footer p-1"],[12],[1,"\\n"],[41,[30,0,["session","isAuthenticated"]],[[[41,[51,[28,[37,13],[[30,0,["activeRoute"]],"chat"],null]],[[[1,"          "],[8,[39,14],null,null,null],[1,"\\n"]],[]],null]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"    \\n"],[13],[1,"\\n\\n"],[13],[1,"\\n"]],[],false,["main","div","profile-own","if","profile-other","title-animation","tournament-list","component","-outlet","user-list","link-to","scoreboard","unless","eq","chat"]]',moduleName:"myapp/templates/application.hbs",isStrictMode:!1})})),define("myapp/templates/chat",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"X/fO1PyJ",block:'[[[8,[39,0],null,null,null],[1,"\\n"]],[],false,["chat"]]',moduleName:"myapp/templates/chat.hbs",isStrictMode:!1})})),define("myapp/templates/choose-game",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"+RnukfWU",block:'[[[10,0],[14,0,"pong-game"],[12],[1,"\\n  "],[10,0],[14,0,"flex-col"],[12],[1,"\\n    "],[10,0],[14,0,"waviy"],[12],[1,"\\n      "],[10,1],[14,5,"--i:1"],[12],[1,"4"],[13],[1,"\\n      "],[10,1],[14,5,"--i:2"],[12],[1,"2"],[13],[1,"\\n      "],[10,1],[14,5,"--i:3"],[12],[1,"_"],[13],[1,"\\n      "],[10,1],[14,5,"--i:4"],[12],[1,"PO"],[13],[1,"\\n      "],[10,1],[14,5,"--i:5"],[12],[1,"NG"],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"game-buttons"],[12],[1,"\\n      "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[30,0,["chooseGame"]],"computer"],null]],null],[12],[1,"Single Player"],[13],[1,"\\n      "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[30,0,["chooseGame"]],"local"],null]],null],[12],[1,"Local Multiplayer"],[13],[1,"\\n      "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[30,0,["chooseGame"]],"remote"],null]],null],[12],[1,"Remote Multiplayer"],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["div","span","button","on","fn"]]',moduleName:"myapp/templates/choose-game.hbs",isStrictMode:!1})})),define("myapp/templates/index",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"WC9lYDjz",block:"[[],[],false,[]]",moduleName:"myapp/templates/index.hbs",isStrictMode:!1})})),define("myapp/templates/login",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"5tGgiME4",block:'[[[10,0],[14,0,"overlay"],[12],[1,"\\n  "],[10,0],[14,0,"overlay-content"],[12],[1,"\\n    "],[11,"form"],[4,[38,2],["submit",[30,0,["login"]]],null],[12],[1,"\\n"],[41,[30,0,["session","twofa"]],[[[1,"        "],[10,0],[14,0,"login-field"],[12],[1,"\\n        "],[10,"label"],[12],[1,"2FA-Code:"],[13],[1,"\\n        "],[11,"input"],[24,3,"twofa"],[24,4,"text"],[4,[38,2],["change",[28,[37,6],[[30,0,["update"]],"twofaCode"],null]],null],[12],[13],[1,"\\n        "],[11,"button"],[24,0,"nav-button"],[24,4,"button"],[4,[38,2],["click",[30,0,["submitTwofa"]]],null],[12],[1,"Authenticate"],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"login-field"],[12],[1,"\\n        "],[10,"label"],[12],[1,"Username:"],[13],[1,"\\n        "],[11,"input"],[24,3,"username"],[24,4,"text"],[4,[38,2],["change",[28,[37,6],[[30,0,["update"]],"username"],null]],null],[12],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"login-field"],[12],[1,"\\n      "],[10,"label"],[12],[1,"Password:"],[13],[1,"\\n      "],[11,"input"],[24,3,"password"],[24,4,"password"],[4,[38,2],["change",[28,[37,6],[[30,0,["update"]],"password"],null]],null],[12],[13],[1,"\\n      "],[13],[1,"\\n      \\n      "],[10,"button"],[14,0,"login"],[14,4,"submit"],[12],[1,"Login"],[13],[1,"\\n      "],[11,"button"],[24,0,"register-button"],[24,4,"button"],[4,[38,2],["click",[30,0,["register"]]],null],[12],[1,"Register"],[13],[1,"\\n"]],[]]],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["error"]],[[[1,"      "],[10,2],[12],[10,"strong"],[14,5,"color: red;"],[12],[1,[30,0,["error","error"]]],[13],[13],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["div","form","on","if","label","input","fn","button","p","strong"]]',moduleName:"myapp/templates/login.hbs",isStrictMode:!1})})),define("myapp/templates/pong-game",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"rI24dgfT",block:'[[[8,[39,0],null,null,null]],[],false,["pong-game"]]',moduleName:"myapp/templates/pong-game.hbs",isStrictMode:!1})})),define("myapp/templates/tournament",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"f/F9ub5o",block:'[[[10,0],[14,0,"container-fluid row"],[12],[1,"\\n"],[41,[30,0,["tournament","currentLobby"]],[[[1,"\\t\\t"],[10,0],[14,0,"col-7"],[12],[1,"\\n\\t\\t\\t"],[10,"h2"],[14,0,"points center"],[12],[1,"👥 "],[1,[30,0,["tournament","currentPlayers","length"]]],[1,"/10"],[13],[1,"\\n\\t\\t\\t"],[8,[39,3],null,null,null],[1,"\\n\\t\\t"],[13],[1,"\\n\\t\\t"],[10,0],[14,0,"button-container col-5"],[12],[1,"\\n"],[41,[28,[37,4],[[28,[37,5],[[30,0,["tournament","admin"]],[30,0,["user","profile","nickname"]]],null],[30,0,["tournament","playerInTournament"]]],null],[[[1,"  \\t\\t\\t\\t"],[11,"button"],[24,0,"nav-button start"],[24,4,"button"],[4,[38,7],["click",[30,0,["tournament","startTournament"]]],null],[12],[1,"\\n    \\t\\t\\t\\tStart Tournament\\n  \\t\\t\\t\\t"],[13],[1,"\\n"]],[]],null],[1,"\\n\\t\\t"],[11,"button"],[24,0,"nav-button cancel"],[24,4,"button"],[4,[38,7],["click",[28,[37,8],[[30,0,["tournament","disconnectFromLobby"]],[30,0,["tournament","currentLobby"]]],null]],null],[12],[1,"Leave"],[13],[1," \\n\\t\\t"],[13],[1,"\\n"]],[]],[[[1,"\\t\\t"],[10,0],[14,0,"d-flex justify-content-center align-items-center"],[12],[1,"\\n\\t\\t\\t"],[11,"button"],[24,0,"nav-button mt-5"],[24,4,"button"],[4,[38,7],["click",[28,[37,8],[[30,0,["tournament","connectToLobby"]],[30,0,["user","profile","nickname"]]],null]],null],[12],[1,"\\n\\t\\t\\tCreate Tournament\\n\\t\\t\\t"],[13],[1,"\\n\\t\\t\\t"],[13],[1,"\\n"]],[]]],[13]],[],false,["div","if","h2","user-list-tournament","and","eq","button","on","fn"]]',moduleName:"myapp/templates/tournament.hbs",isStrictMode:!1})})),define("myapp/transforms/boolean",["exports","@ember/debug","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.BooleanTransform}})})),define("myapp/transforms/date",["exports","@ember/debug","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.DateTransform}})})),define("myapp/transforms/number",["exports","@ember/debug","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.NumberTransform}})})),define("myapp/transforms/string",["exports","@ember/debug","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.StringTransform}})})),define("myapp/config/environment",[],(function(){try{var e="myapp/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),n={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(n,"__esModule",{value:!0}),n}catch(r){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),runningTests||require("myapp/app").default.create({name:"myapp",version:"0.0.0"})
