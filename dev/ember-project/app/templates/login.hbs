<div class="overlay">
  <div class="overlay-content">
    <form {{on "submit" this.login}}>
      {{#if this.session.twofa}}
        <div class="login-field">
        <label>2FA-Code:</label>
        <input type="text" name="twofa" {{on "change" (fn this.update "twofaCode")}} />
        <button type="button" class="nav-button" {{on "click" this.submitTwofa}}>Authenticate</button>
      </div>
      {{else}}
      <div class="login-field">
        <label>Username:</label>
        <input type="text" name="username" {{on "change" (fn this.update "username")}} />
      </div>

      <div class="login-field">
      <label>Password:</label>
      <input type="password" name="password" {{on "change" (fn this.update "password")}} />
      </div>
      
      <button class="login" type="submit">Login</button>
      <button type="button" class="register-button" {{on "click" this.register}}>Register</button>
      {{/if}}
    </form>

    {{#if this.error}}
      <p><strong>{{this.error}}</strong></p>
    {{/if}}
  </div>
</div>
